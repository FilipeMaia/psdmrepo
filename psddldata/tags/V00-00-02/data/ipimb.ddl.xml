<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE psddl SYSTEM "psddl.dtd">

<psddl>
	<package name="Ipimb">

        <!-- ========================================================================= -->
	
		
		<pstype name="ConfigV1" version="1" type_id="Id_IpimbConfig" pack="4">
		
            <attribute name="_triggerCounter" type="uint64_t" accessor="triggerCounter">
            </attribute>

            <attribute name="_serialID" type="uint64_t" accessor="serialID">
            </attribute>

            <attribute name="_chargeAmpRange" type="uint16_t" accessor="chargeAmpRange">
            </attribute>

            <attribute name="_calibrationRange" type="uint16_t" accessor="calibrationRange">
            </attribute>

            <attribute name="_resetLength" type="uint32_t" accessor="resetLength">
            </attribute>

            <attribute name="_resetDelay" type="uint32_t" accessor="resetDelay">
            </attribute>

            <attribute name="_chargeAmpRefVoltage" type="float" accessor="chargeAmpRefVoltage">
            </attribute>

            <attribute name="_calibrationVoltage" type="float" accessor="calibrationVoltage">
            </attribute>

            <attribute name="_diodeBias" type="float" accessor="diodeBias">
            </attribute>

            <attribute name="_status" type="uint16_t" accessor="status">
            </attribute>

            <attribute name="_errors" type="uint16_t" accessor="errors">
            </attribute>

            <attribute name="_calStrobeLength" type="uint16_t" accessor="calStrobeLength">
            </attribute>

            <attribute name="_pad0" type="uint16_t">
            </attribute>

            <attribute name="_trigDelay" type="uint32_t" accessor="trigDelay">
            </attribute>

        </pstype>
        
		<!-- ========================================================================= -->

        
        <pstype name="DataV1" version="1" type_id="Id_IpimbData" pack="4">
        
            <attribute name="_triggerCounter" type="uint64_t" accessor="triggerCounter">
            </attribute>

            <attribute name="_config0" type="uint16_t" accessor="config0">
            </attribute>

            <attribute name="_config1" type="uint16_t" accessor="config1">
            </attribute>

            <attribute name="_config2" type="uint16_t" accessor="config2">
            </attribute>

            <attribute name="_channel0" type="uint16_t" accessor="channel0">
            </attribute>

            <attribute name="_channel1" type="uint16_t" accessor="channel1">
            </attribute>

            <attribute name="_channel2" type="uint16_t" accessor="channel2">
            </attribute>

            <attribute name="_channel3" type="uint16_t" accessor="channel3">
            </attribute>

            <attribute name="_checksum" type="uint16_t" accessor="checksum">
            </attribute>

            <method name="channel0Volts" type="float">
                <expr lang="C++" value="float({self}._channel0)*3.3/65535"/>
            </method>
            
            <method name="channel1Volts" type="float">
                <expr lang="C++" value="float({self}._channel1)*3.3/65535"/>
            </method>
            
            <method name="channel2Volts" type="float">
                <expr lang="C++" value="float({self}._channel2)*3.3/65535"/>
            </method>
            
            <method name="channel3Volts" type="float">
                <expr lang="C++" value="float({self}._channel3)*3.3/65535"/>
            </method>
            
        </pstype>
        
        
	</package>
</psddl>
